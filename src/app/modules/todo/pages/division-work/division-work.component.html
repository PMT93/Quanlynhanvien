<div class="ds container">
    <div class="ds row">
        <div class="ds col-12 col-lg-12" style="overflow-y: scroll">
            <h1 class="ds text-center">Phân chia công việc</h1>
            <hr>
            <div class="ds row">
                <div class="ds col-md-11">
                    <div class="ds form-group">
                        <input type="text"
                               class="ds form-control"
                               placeholder="Nhập tên công việc hoặc tên nhân viên"
                               [(ngModel)]="textSearch"
                               (keyup.enter)="load(textSearch)"
                        >
                    </div>
                </div>

              <div class="ds col-md-1 " role="button" (click)="load(textSearch)">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                </svg>
              </div>
            </div>

            <div class="ds col-12 col-lg-12">
              <div class="ds col-md-12">
                <button class="ds btn btn-primary" (click)="save()">Giao công việc mới</button>
              </div>
            </div>

            <div class="ds row">
                <div class="ds col-md-12">
                  <div class="row d-flex flex-row">
                    <div class="card col-md-3" *ngFor="let todo of todoList; let i = index;">

                      <mat-checkbox class="example-margin"
                                    [checked]="todo.status === 'complete'"
                                    [color]="'primary'"
                                    [indeterminate]="false"
                                    style="pointer-events:none"
                      >
                      </mat-checkbox>

                      <img class="card-img-top" src="/assets/image/gril.jpg" alt="Card image cap">
                      <div class="card-body">
                        <h5 class="card-title">{{todo.title}}</h5>
                        <p class="card-text">{{todo.content}}</p>

                        <div class="d-flex flex-column body-bot">
                          <span>Người được giao: {{todo.assigneeName}}</span>
                          <span [ngClass]="'status-' + todo.status">Trạng thái: {{todo.status === 'unfinished' ? 'Chưa hoàn thành': 'Đã hoàn thành'}}</span>
                          <span>Bắt đầu từ: {{todo.startTime | date: 'hh:mm a dd/MM/yyyy'}}</span>
                          <span>Ca: {{todo.time}} tiếng</span>
                        </div>

                        <div class="d-flex">
                          <button class="btn btn-primary" (click)="changeTodo(todo)">{{todo.status === 'complete' ? 'Làm lại' : 'Xong'}}</button>
                          <button class="btn btn-info" (click)="save(todo)">Chi tiết</button>
                          <button class="btn btn-danger" (click)="delete(todo)">Xóa</button>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
            </div>
        </div>

    </div>
</div>
